$def with (canvas_id, entries, selected)
           
$# e = (ip, line name, label, color, symbol) 
$ formName = 'frmLegend_' + canvas_id
$ submitCmd = 'document.' + formName + '.submit();'

<form name="$formName" id="$formName" method="POST">
<table>
    $for e in entries:
        $ selectName = e[1][4:]
        <tr><td><input type="checkbox" name="cb_$e[1]" value="on" onClick="$submitCmd"
        $if selected.get(selectName) == 'on':
            checked
        ></td><td><canvas id="$e[1]" height="10" width="50">You need Safari or Firefox 1.5+ to see this image.</canvas></td><td></td><td>$:e[2]</td></tr>
</table>
</form>

<script type="text/javascript">

    function gen_legend_$canvas_id () {

    $for e in entries:
        legend_entry("$e[1]", 50, 10, "$e[3]", "$e[4]");            
    }
    
    gen_legend_$canvas_id ();  

</script>
 
